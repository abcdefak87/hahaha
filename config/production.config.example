# Production Configuration Template
# Copy this file to .env.production in server folder and update with your values

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=3001
NODE_ENV=production
SERVER_URL=https://your-domain.com

# ============================================
# DATABASE CONFIGURATION (PostgreSQL)
# ============================================
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL="postgresql://your_db_user:your_db_password@localhost:5432/unnet_production?schema=public"

# Optional: Connection Pool Settings
DB_CONNECTION_LIMIT=10
DB_POOL_TIMEOUT=20

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# Generate strong secret: openssl rand -base64 32
JWT_SECRET=your_super_secret_jwt_key_must_be_changed_in_production
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your_refresh_token_secret_must_be_changed
JWT_REFRESH_EXPIRES_IN=30d

# Session Configuration
SESSION_SECRET=your_session_secret_must_be_changed
SESSION_MAX_AGE=86400000

# ============================================
# WHATSAPP CONFIGURATION
# ============================================
WHATSAPP_SESSION_PATH=/var/lib/unnet/whatsapp/auth_info_baileys
WHATSAPP_QR_PATH=/var/lib/unnet/whatsapp/qr-codes
WHATSAPP_MEDIA_PATH=/var/lib/unnet/whatsapp/media
WHATSAPP_LOG_LEVEL=error
WHATSAPP_RECONNECT_INTERVAL=5000
WHATSAPP_MAX_RECONNECT_ATTEMPTS=5

# ============================================
# CORS SETTINGS
# ============================================
# Multiple origins separated by comma
CLIENT_URL=https://your-frontend-domain.com
ALLOWED_ORIGINS=https://your-frontend-domain.com,https://admin.your-domain.com

# ============================================
# EMAIL CONFIGURATION (SMTP)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password
EMAIL_FROM="UNNET System <noreply@your-domain.com>"

# ============================================
# RATE LIMITING & SECURITY
# ============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# API Rate Limits (per endpoint)
API_RATE_LIMIT_AUTH=5
API_RATE_LIMIT_GENERAL=100
API_RATE_LIMIT_UPLOAD=10

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================
UPLOAD_PATH=/var/lib/unnet/uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# ============================================
# REDIS CONFIGURATION (Optional - for caching)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=unnet:

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=info
LOG_DIR=/var/log/unnet
LOG_MAX_SIZE=10m
LOG_MAX_FILES=30
LOG_DATE_PATTERN=YYYY-MM-DD

# ============================================
# MONITORING & METRICS
# ============================================
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30000

# ============================================
# BACKUP CONFIGURATION
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_PATH=/var/backups/unnet
BACKUP_RETENTION_DAYS=30

# ============================================
# PM2 SPECIFIC (if using PM2)
# ============================================
PM2_PUBLIC_KEY=your_pm2_public_key
PM2_SECRET_KEY=your_pm2_secret_key
PM2_MACHINE_NAME=unnet-production

# ============================================
# TELEGRAM BOT (Optional)
# ============================================
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_ADMIN_CHAT_ID=your_admin_chat_id

# ============================================
# EXTERNAL API KEYS (if needed)
# ============================================
GOOGLE_MAPS_API_KEY=your_google_maps_api_key
OPENCAGE_API_KEY=your_opencage_api_key

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_WHATSAPP=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=false
ENABLE_TELEGRAM_NOTIFICATIONS=true
ENABLE_AUTO_BACKUP=true
ENABLE_DEBUG_MODE=false
